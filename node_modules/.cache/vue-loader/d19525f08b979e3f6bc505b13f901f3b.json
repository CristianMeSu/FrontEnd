{"remainingRequest":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Xampp\\htdocs\\FrontEnd\\src\\views\\registroDocs\\RegistroDocs.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Xampp\\htdocs\\FrontEnd\\src\\views\\registroDocs\\RegistroDocs.vue","mtime":1637266800935},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636401893889},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":1636401897565},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636401893889},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":1636401899309}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVxdWVzdHMgZnJvbSAiQC91dGlscy9yZXF1ZXN0cyI7DQppbXBvcnQgZXJyb3JDb2RlcyBmcm9tICJAL3V0aWxzL2Vycm9yQ29kZXMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAicmVnaXN0cm9Eb2NzIg0KICAsZGF0YSgpew0KDQogICAgcmV0dXJuew0KDQogICAgICBkYXRhU3RhdHVzIDogbnVsbCwNCiAgICAgICAgICB1c2VyTGluayA6IG51bGwsDQogICAgICAgICAgY3JlYXRlZEJ5IDogbnVsbCwNCiAgICAgICAgICBkYXRlTGFzdE1vZGlmaWVkOm51bGwsDQogICAgICAgICAgY2hTdGF0dXM6bnVsbCwNCiAgICAgICAgICBtb3N0cmFyOiB0cnVlLA0KICAgICAgICAgIGNvbnRpbnVhcjogJ1BhcmEgY29udGludWFyIGNvbiBlbCByZWdpc3RybyBwb3JmYXZvciBkZSBjbGljayBlbiBlbCBib3TDs24gY29udGludWFyJywNCiAgICAgICAgICBlbmQ6J1BhcmEgZ3VhcmRhciBlbCByZWdpc3RybyBwdWxzZSBlbCBib3TDs24gZmluYWxpemFyJywNCiAgICAgIG5ld0RhdGE6IHsNCiAgICAgICAgdXNlckxpbmsgOiBudWxsDQogICAgICAgICwgZGF0YVN0YXR1cyA6IG51bGwNCiAgICAgIH0NCiAgICB9DQogIH0NCiAgLGJlZm9yZU1vdW50KCkgew0KICAgIHRoaXMuZ2V0UmVjb3JkRGF0YSgpDQogIH0NCiAgLCBtZXRob2RzOiB7DQogICAgZ2V0VXJsUXVlcnlJZCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgOw0KICAgIH0NCg0KICAgICwgYXN5bmMgZ2V0UmVjb3JkRGF0YSgpIHsNCiAgICAgIC8vIGxldCBub3RpZmljYXRpb24gOw0KDQogICAgICBjb25zdCBoZWFkZXJzID0gew0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCAnYWNjZXNzVG9rZW4nICkgfWAsDQogICAgICAgICAgJ1dXVy1BdXRoZW50aWNhdGUnOiBgQmFzaWMgZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDguZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDguZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDgvZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDhgLA0KICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICB9DQogICAgICB9IDsNCg0KICAgICAgbGV0IGk9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCAndXNlcklkJyApDQogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RzLmdldCgNCiAgICAgICAgICAnb2JqZXRpdm9zL2dldC8nK2kNCiAgICAgICAgICAsIGhlYWRlcnMsDQogICAgICAvL2NvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCAndXNlcklkJyApKQ0KICAgICAgKSA7DQoNCg0KDQogICAgICB0aGlzLnVzZXJMaW5rID0gcmVzcG9uc2UuZGF0YVszXSA7DQogICAgICB0aGlzLnVzZXJJZCA9IHJlc3BvbnNlLmRhdGFbIDQgXSA7DQogICAgICB0aGlzLmRhdGFTdGF0dXM9IHJlc3BvbnNlLmRhdGFbN107DQogICAgICB0aGlzLmNoU3RhdHVzID0gcmVzcG9uc2UuZGF0YSBbN10gPT09IDEgOw0KDQogICAgICB0aGlzLm5ld0RhdGEudXNlckxpbms9dGhpcy51c2VyTGluazsNCiAgICAgIHRoaXMubmV3RGF0YS5kYXRhU3RhdHVzPXRoaXMuZGF0YVN0YXR1czsNCiAgICAgIGxldCBhPSB0aGlzLnVzZXJMaW5rDQogICAgICAvL2NvbnNvbGUubG9nKHRoaXMuZGF0YVN0YXR1cykNCiAgICAgIC8vY29uc29sZS5sb2coYSkNCg0KICAgICAgaWYgKHRoaXMuZGF0YVN0YXR1cz09PTEgfHwgYT09PSIiKXsNCiAgICAgICAgdGhpcy5tb3N0cmFyPWZhbHNlOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICAgIHRoaXMubW9zdHJhcj10cnVlOw0KICAgICAgfQ0KICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm1vc3RyYXIpDQogICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YSA7DQogICAgfQ0KDQoNCiAgICAsIGFzeW5jIHNhdmVDaGFuZ2VzKCkgew0KDQogICAgICAgIHRoaXMubmV3RGF0YS5kYXRhU3RhdHVzPTENCg0KICAgICAgbGV0IG5vdGlmaWNhdGlvbiA7DQogICAgICBjb25zdCBoZWFkZXJzID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAkeyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSggJ2FjY2Vzc1Rva2VuJyApIH1gLA0KICAgICAgICAgICAgJ1dXVy1BdXRoZW50aWNhdGUnOiBgQmFzaWMgZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDguZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDguZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDgvZm00ODNmajk4ZjNsZmlyNzkzZGZ1OThpdG9xa3A1dDhgLA0KICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbGV0IHN0DQogICAgICAgIGxldCBpPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSggJ3VzZXJJZCcgKQ0KICAgICAgICBjb25zdCBkYXRhID0gew0KDQogICAgICAgICAgImlkIiA6IGksDQogICAgICAgICAgImlkVXNlciI6IGkNCiAgICAgICAgICAsICJkYXRhU3RhdHVzIjogdGhpcy5uZXdEYXRhLmRhdGFTdGF0dXMNCiAgICAgICAgICAsICJ1c2VyTGluayI6IHRoaXMudXNlckxpbmsNCiAgICAgICAgfQ0KICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdHMucHV0KA0KICAgICAgICAgICAgICAnb2JqZXRpdm9zL3VwZGF0ZS8nK3RoaXMudXNlcklkDQogICAgICAgICAgICAgICwgZGF0YQ0KICAgICAgICAgICAgICAsIGhlYWRlcnMNCiAgICAgICAgICApIDsNCiAgICAgICAgICAvL2NvbnNvbGUubG9nKCAicmVzcG9uc2U6ICIgLCByZXNwb25zZSApIDsNCiAgICAgICAgICBpZiAoIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAxKSB7DQogICAgICAgICAgICBhd2FpdCB0aGlzLmdldFJlY29yZERhdGEoKTsNCg0KICAgICAgICAgICAgbm90aWZpY2F0aW9uID0gZXJyb3JDb2Rlcy5nZXQocmVzcG9uc2Uuc3RhdHVzKTsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5vdGlmaWNhdGlvbikNCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgIGdyb3VwOiAnZm9vJw0KICAgICAgICAgICAgICAsIHRpdGxlOiBgPGg1Pk1lc3NhZ2UgQ29kZTogJHtub3RpZmljYXRpb24uY29kZX08L2g1PmANCiAgICAgICAgICAgICAgLCB0ZXh0OiBgPGg2PiR7bm90aWZpY2F0aW9uLm1lc3NhZ2V9PC9oNj5gDQogICAgICAgICAgICAgICwgdHlwZTogYCR7bm90aWZpY2F0aW9uLnR5cGV9YA0KICAgICAgICAgICAgICAsIGR1cmF0aW9uOiAxMDAwMA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAoc3QgPT09IDQwMSkgYXdhaXQgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dvdXQnKTsNCg0KICAgICAgICAgIH19DQoNCiAgICAsIGFzeW5jIGdldE9iamV0aXZvcygpIHsNCiAgICAgICAgY29uc3Qgb2JqZXRpdm9zID0gYXdhaXQgcmVxdWVzdHMuZ2V0KA0KICAgICAgICAgICAgJ29iamV0aXZvcy9hbGwnDQogICAgICAgICkgOw0KDQogICAgICAgIHRoaXMub2JqZXRpdm9zID0gb2JqZXRpdm9zLmRhdGEgOw0KICAgICAgfQ0KDQogICAgfQ0KDQoNCg0KICAsIG1vdW50ZWQoKSB7DQogICAgaWYgKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSggInJvbGVzIiApICA9PT0gIlJPTEVfSVQiICkgdGhpcy5JVCA9IHRydWUgOw0KICB9DQoNCg0KfQ0KDQo="},{"version":3,"sources":["RegistroDocs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;AACA;AACA;;;AAGA","file":"RegistroDocs.vue","sourceRoot":"src/views/registroDocs","sourcesContent":["<template>\r\n  <div v-if=\"mostrar\" style=\"border-image: initial; border: 1px solid black;\" class=\"col-sm-4 offset-3\" >\r\n      <br>\r\n      <center>    <h3  class=\"m-0\">| Registro Pendiente | </h3></center>\r\n      <br>\r\n\r\n      <center><h5  >{{continuar}}</h5></center>\r\n      <center><h5 >{{end}}</h5></center>\r\n      <center>\r\n\r\n      </center>\r\n      <center>\r\n        <h4>\r\n\r\n      <small class=\"col-sm-2\"><p></p>\r\n        <span class=\"btn btn-info\">\r\n                      <a  :href=\"userLink\" id=\"btnNuevoRegistro\"  target=\"_blank\"  >Continuar</a>\r\n                  </span>\r\n      </small>\r\n      <small class=\"col-sm-2 offset-1\">\r\n        <span class=\"btn btn-success\">\r\n                      <a href=\"#\" id=\"btnFinalizarRegistro\" @click=\"saveChanges\" class=\"col-sm-2 \"  >Finalizar</a>\r\n                  </span>\r\n\r\n      </small></h4>\r\n      </center>\r\n      <br>\r\n\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport requests from \"@/utils/requests\";\r\nimport errorCodes from \"@/utils/errorCodes\";\r\nexport default {\r\n  name: \"registroDocs\"\r\n  ,data(){\r\n\r\n    return{\r\n\r\n      dataStatus : null,\r\n          userLink : null,\r\n          createdBy : null,\r\n          dateLastModified:null,\r\n          chStatus:null,\r\n          mostrar: true,\r\n          continuar: 'Para continuar con el registro porfavor de click en el botón continuar',\r\n          end:'Para guardar el registro pulse el botón finalizar',\r\n      newData: {\r\n        userLink : null\r\n        , dataStatus : null\r\n      }\r\n    }\r\n  }\r\n  ,beforeMount() {\r\n    this.getRecordData()\r\n  }\r\n  , methods: {\r\n    getUrlQueryId() {\r\n      return this.$route.params.id ;\r\n    }\r\n\r\n    , async getRecordData() {\r\n      // let notification ;\r\n\r\n      const headers = {\r\n        headers: {\r\n          'Authorization': `Bearer ${ localStorage.getItem( 'accessToken' ) }`,\r\n          'WWW-Authenticate': `Basic fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8/fm483fj98f3lfir793dfu98itoqkp5t8`,\r\n          'Accept': 'application/json',\r\n          'Content-type': 'application/json'\r\n        }\r\n      } ;\r\n\r\n      let i= localStorage.getItem( 'userId' )\r\n      const response = await requests.get(\r\n          'objetivos/get/'+i\r\n          , headers,\r\n      //console.log(localStorage.getItem( 'userId' ))\r\n      ) ;\r\n\r\n\r\n\r\n      this.userLink = response.data[3] ;\r\n      this.userId = response.data[ 4 ] ;\r\n      this.dataStatus= response.data[7];\r\n      this.chStatus = response.data [7] === 1 ;\r\n\r\n      this.newData.userLink=this.userLink;\r\n      this.newData.dataStatus=this.dataStatus;\r\n      let a= this.userLink\r\n      //console.log(this.dataStatus)\r\n      //console.log(a)\r\n\r\n      if (this.dataStatus===1 || a===\"\"){\r\n        this.mostrar=false;\r\n      }\r\n      else {\r\n        this.mostrar=true;\r\n      }\r\n      //console.log(this.mostrar)\r\n      return response.data ;\r\n    }\r\n\r\n\r\n    , async saveChanges() {\r\n\r\n        this.newData.dataStatus=1\r\n\r\n      let notification ;\r\n      const headers = {\r\n          headers: {\r\n            'Authorization': `Bearer ${ localStorage.getItem( 'accessToken' ) }`,\r\n            'WWW-Authenticate': `Basic fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8/fm483fj98f3lfir793dfu98itoqkp5t8`,\r\n            'Accept': 'application/json',\r\n            'Content-type': 'application/json'\r\n          }\r\n        }\r\n        let st\r\n        let i= localStorage.getItem( 'userId' )\r\n        const data = {\r\n\r\n          \"id\" : i,\r\n          \"idUser\": i\r\n          , \"dataStatus\": this.newData.dataStatus\r\n          , \"userLink\": this.userLink\r\n        }\r\n       // console.log(data);\r\n          const response = await requests.put(\r\n              'objetivos/update/'+this.userId\r\n              , data\r\n              , headers\r\n          ) ;\r\n          //console.log( \"response: \" , response ) ;\r\n          if ( response.status === 200 || response.status === 201) {\r\n            await this.getRecordData();\r\n\r\n            notification = errorCodes.get(response.status);\r\n            // console.log(notification)\r\n            this.$notify({\r\n              group: 'foo'\r\n              , title: `<h5>Message Code: ${notification.code}</h5>`\r\n              , text: `<h6>${notification.message}</h6>`\r\n              , type: `${notification.type}`\r\n              , duration: 10000\r\n            });\r\n            if (st === 401) await this.$router.push('/logout');\r\n\r\n          }}\r\n\r\n    , async getObjetivos() {\r\n        const objetivos = await requests.get(\r\n            'objetivos/all'\r\n        ) ;\r\n\r\n        this.objetivos = objetivos.data ;\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n  , mounted() {\r\n    if ( localStorage.getItem( \"roles\" )  === \"ROLE_IT\" ) this.IT = true ;\r\n  }\r\n\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n#btnNuevoRegistro {\r\n  A: hover;\r\n  color: #ffffff;\r\n  font-family: \"Source Sans Pro\";\r\n  font-size: 17.28px;\r\n  text-decoration: none;\r\n}\r\n#btnFinalizarRegistro{\r\n  A: hover;\r\n  color: #ffffff;\r\n  font-family: \"Source Sans Pro\";\r\n  font-size: 17.28px;\r\n  text-decoration: none;\r\n}\r\n</style>"]}]}