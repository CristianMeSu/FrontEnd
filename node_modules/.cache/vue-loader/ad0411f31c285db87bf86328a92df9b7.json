{"remainingRequest":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Xampp\\htdocs\\FrontEnd\\src\\views\\administracion\\users\\Detalle.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Xampp\\htdocs\\FrontEnd\\src\\views\\administracion\\users\\Detalle.vue","mtime":1637077956773},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636401893889},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":1636401897565},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636401893889},{"path":"D:\\Xampp\\htdocs\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":1636401899309}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTmF2YmFyIGZyb20gIkAvY29tcG9uZW50cy9uYXZiYXIvTmF2YmFyIjsNCmltcG9ydCBOYXZiYXJTaWRlQmFyIGZyb20gIkAvY29tcG9uZW50cy9uYXZiYXIvTmF2YmFyU2lkZWJhciI7DQppbXBvcnQgcmVxdWVzdHMgZnJvbSAiQC91dGlscy9yZXF1ZXN0cyI7DQppbXBvcnQgZXJyb3JDb2RlcyBmcm9tICJAL3V0aWxzL2Vycm9yQ29kZXMiOw0KaW1wb3J0IFZ1ZVFSQ29kZUNvbXBvbmVudCBmcm9tICd2dWUtcXJjb2RlLWNvbXBvbmVudCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJEZXRhaWxzIg0KDQogICAgLCBjb21wb25lbnRzOiB7DQogICAgICAgIE5hdmJhcg0KICAgICAgICAsIE5hdmJhclNpZGVCYXINCiAgICAgICAgLCBWdWVRUkNvZGVDb21wb25lbnQNCiAgICB9DQoNCiAgICAsIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBlZGl0IDogZmFsc2UNCiAgICAgICAgICAgICwgSVQgOiBmYWxzZQ0KICAgICAgICAgICAgLCBpZCA6IG51bGwNCiAgICAgICAgICAgICwgdSA6IG51bGwNCg0KICAgICAgICAgICAgLCBlbXByZXNhcyA6IG51bGwNCiAgICAgICAgICAgICwgbW9kdWxvcyA6IG51bGwNCiAgICAgICAgICAgICwgcm9sZXMgOiBudWxsDQogICAgICAgICAgICAsIG9uZVJvbGUgOiBudWxsDQogICAgICAgICAgICAsIHNob3dQYXNzd29yZCA6IGZhbHNlDQogICAgICAgICAgICAsIHNob3dTZWNyZXRLZXk0R0EgOiBmYWxzZQ0KICAgICAgICAgICAgLCBxckNvZGUgOiAnJw0KDQogICAgICAgICAgICAsIHVzZXJuYW1lIDogbnVsbA0KICAgICAgICAgICAgLCBwYXNzd29yZCA6IG51bGwNCiAgICAgICAgICAgICwgcm9sIDogbnVsbA0KICAgICAgICAgICAgLCBuYW1lIDogbnVsbA0KICAgICAgICAgICAgLCBsYXN0bmFtZSA6IG51bGwNCiAgICAgICAgICAgICwgZW1wcmVzYUlkIDogbnVsbA0KICAgICAgICAgICAgLCBzZWNyZXRLZXk0R0EgOiBudWxsDQogICAgICAgICAgICAsIGVtYWlsIDogbnVsbA0KICAgICAgICAgICAgLCBkYXRhU3RhdHVzIDogbnVsbA0KICAgICAgICAgICAgLCBjaFN0YXR1cyA6IGZhbHNlDQogICAgICAgICAgICAsIGRhdGVMYXN0TW9kaWZpZWQgOiBudWxsDQogICAgICAgICAgICAsIHVzZXJXaG9Nb2RpZmllZCA6IG51bGwNCiAgICAgICAgICAgICwgbW9kdWxvSWQgOiBudWxsDQogICAgICAgICAgICAsIG1vZHVsb05hbWUgOiBudWxsDQogICAgICAgICAgICAsIG1vZHVsb3NMaXN0IDogbnVsbA0KDQogICAgICAgICAgICAsIG5ld0RhdGE6IHsNCiAgICAgICAgICAgICAgICB1c2VybmFtZSA6IG51bGwNCiAgICAgICAgICAgICAgICAsIHBhc3N3b3JkIDogbnVsbA0KICAgICAgICAgICAgICAgICwgcm9sIDogbnVsbA0KICAgICAgICAgICAgICAgICwgbmFtZSA6IG51bGwNCiAgICAgICAgICAgICAgICAsIGxhc3RuYW1lIDogbnVsbA0KICAgICAgICAgICAgICAgICwgZW1wcmVzYUlkIDogbnVsbA0KICAgICAgICAgICAgICAgICwgZW1wcmVzYSA6IG51bGwNCiAgICAgICAgICAgICAgICAsIGVtcHJlc2FzTGlzdCA6IG51bGwNCiAgICAgICAgICAgICAgICAsIGRhdGFTdGF0dXMgOiBudWxsDQogICAgICAgICAgICAgICAgLCBjaFN0YXR1cyA6IGZhbHNlDQogICAgICAgICAgICAgICAgLCBkYXRlTGFzdE1vZGlmaWVkIDogbnVsbA0KICAgICAgICAgICAgICAgICwgdXNlcldob01vZGlmaWVkIDogbnVsbA0KICAgICAgICAgICAgICAgICwgZW1haWwgOiBudWxsDQogICAgICAgICAgICAgICAgLCBtb2R1bG9JZCA6IG51bGwNCiAgICAgICAgICAgICAgICAsIG1vZHVsb05hbWUgOiBudWxsDQogICAgICAgICAgICAgICAgLCBtb2R1bG9zTGlzdCA6IG51bGwNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLCBjc3NTdGF0dXMgOiAic3RBY3RpdmUiDQoNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgICwgbWV0aG9kczogew0KICAgICAgICBnZXRVcmxRdWVyeUlkKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA7DQogICAgICAgIH0NCg0KICAgICAgICAsIGFzeW5jIGdldFJlY29yZERhdGEoKSB7DQogICAgICAgICAgICAvLyBsZXQgbm90aWZpY2F0aW9uIDsNCg0KICAgICAgICAgICAgdGhpcy51ID0gYXdhaXQgcmVxdWVzdHMuZ2V0KA0KICAgICAgICAgICAgICAgICd1c2Vycy9nZXQtZGV0YWlscy8nKyB0aGlzLmdldFVybFF1ZXJ5SWQoKQ0KICAgICAgICAgICAgKSA7DQogICAgICAgICAgICBjb25zdCB1ID0gdGhpcy51IDsNCg0KICAgICAgICAgICAgY29uc29sZS5sb2coICJ1OiAiICwgdS5kYXRhICkgOw0KDQogICAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gdS5kYXRhLnVzZXIudXNlcm5hbWUgOw0KICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9IHUuZGF0YS51c2VyLnBhc3N3b3JkIDsNCiAgICAgICAgICAgIHRoaXMuZGF0YVN0YXR1cyA9IHUuZGF0YS51c2VyU3RhdHVzLnN0TmFtZSA7DQogICAgICAgICAgICB0aGlzLmNoU3RhdHVzID0gdS5kYXRhLnVzZXIuZGF0YVN0YXR1cyA9PT0gMSA7DQogICAgICAgICAgICB0aGlzLnJvbCA9IHUuZGF0YS51c2VyLnJvbGVzWyAwIF0gPyB1LmRhdGEudXNlci5yb2xlc1sgMCBdLm5hbWUuc3BsaXQoICJfIiApWyAxIF0gOiBudWxsIDsNCiAgICAgICAgICAgIHRoaXMuZGF0ZUxhc3RNb2RpZmllZCA9IHUuZGF0YS51c2VyLmRhdGVMYXN0TW9kaWZpZWQgOw0KICAgICAgICAgICAgdGhpcy51c2VyV2hvTW9kaWZpZWQgPSB1LmRhdGEudXNlck1vZGlmaWVyLnVzZXJuYW1lIDsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhcXVpIix0aGlzLnVzZXJXaG9Nb2RpZmllZCkNCiAgICAgICAgICAgIHRoaXMuc2VjcmV0S2V5NEdBID0gdS5kYXRhLnVzZXIuc2VjcmV0S2V5NEdBIDsNCiAgICAgICAgICAgIHRoaXMuZW1haWwgPSB1LmRhdGEudXNlckVtYWlsc1sgMCBdLmVtYWlsIDsNCiAgICAgICAgICAgIHRoaXMucXJDb2RlID0gdGhpcy5nZXRRUkNvZGUoKS50b1N0cmluZygpIDsNCg0KICAgICAgICAgICAgdGhpcy5uYW1lID0gdS5kYXRhLnVzZXJEZXRhaWxzID8gdS5kYXRhLnVzZXJEZXRhaWxzLnVzZXJOYW1lIDogbnVsbCA7DQogICAgICAgICAgICB0aGlzLmxhc3RuYW1lID0gdS5kYXRhLnVzZXJEZXRhaWxzID8gdS5kYXRhLnVzZXJEZXRhaWxzLnVzZXJMYXN0bmFtZSA6IG51bGwgOw0KICAgICAgICAgICAgLy8gdGhpcy5lbXByZXNhSWQgPSB1LmRhdGEudXNlckRldGFpbHMgPyB1LmRhdGEudXNlckRldGFpbHMuZW1wcmVzYUlkIDogbnVsbCA7DQoNCiAgICAgICAgICAgIHRoaXMuZW1wcmVzYUlkID0gMSA7DQogICAgICAgICAgICB0aGlzLmVtcHJlc2EgPSB1LmRhdGEudXNlckVtcHJlc2EgPyB1LmRhdGEudXNlckVtcHJlc2FbIDEgXSA6IG51bGwgOw0KICAgICAgICAgICAgdGhpcy5lbXByZXNhc0xpc3QgPSB1LmRhdGEudXNlckNvbXBhbmllcyA/IHUuZGF0YS51c2VyQ29tcGFuaWVzIDogbnVsbCA7DQoNCiAgICAgICAgICAgIHRoaXMubW9kdWxvSWQgPSAxIDsNCiAgICAgICAgICAgIHRoaXMubW9kdWxvID0gdS5kYXRhLnVzZXJNb2R1bGVzID8gdS5kYXRhLnVzZXJNb2R1bGVzWyAxIF0gOiBudWxsIDsNCiAgICAgICAgICAgIHRoaXMubW9kdWxvc0xpc3QgPSB1LmRhdGEudXNlck1vZHVsZXMgPyB1LmRhdGEudXNlck1vZHVsZXMgOiBudWxsIDsNCg0KICAgICAgICAgICAgdGhpcy5uZXdEYXRhLm5hbWUgPSB0aGlzLm5hbWUgOw0KICAgICAgICAgICAgdGhpcy5uZXdEYXRhLmxhc3RuYW1lID0gdGhpcy5sYXN0bmFtZSA7DQoNCiAgICAgICAgICAgIHRoaXMubmV3RGF0YS5lbXByZXNhSWQgPSB0aGlzLmVtcHJlc2FJZCA7DQogICAgICAgICAgICB0aGlzLm5ld0RhdGEuZW1wcmVzYSA9IHRoaXMuZW1wcmVzYSA7DQogICAgICAgICAgICB0aGlzLm5ld0RhdGEuZW1wcmVzYXNMaXN0ID0gdGhpcy5lbXByZXNhc0xpc3QgOw0KDQogICAgICAgICAgICB0aGlzLm5ld0RhdGEubW9kdWxvSWQgPSB0aGlzLm1vZHVsb0lkIDsNCiAgICAgICAgICAgIHRoaXMubmV3RGF0YS5tb2R1bG9OYW1lID0gdGhpcy5tb2R1bG9OYW1lIDsNCiAgICAgICAgICAgIHRoaXMubmV3RGF0YS5tb2R1bG9zTGlzdCA9IHRoaXMubW9kdWxvc0xpc3QgOw0KDQogICAgICAgICAgICB0aGlzLm5ld0RhdGEudXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lIDsNCiAgICAgICAgICAgIC8vIHRoaXMubmV3RGF0YS5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQgOw0KICAgICAgICAgICAgdGhpcy5uZXdEYXRhLmRhdGFTdGF0dXMgPSB0aGlzLmRhdGFTdGF0dXMgOw0KICAgICAgICAgICAgdGhpcy5uZXdEYXRhLnJvbCA9IHRoaXMucm9sIDsNCiAgICAgICAgICAgIHRoaXMubmV3RGF0YS5kYXRlTGFzdE1vZGlmaWVkID0gdGhpcy5kYXRlTGFzdE1vZGlmaWVkIDsNCiAgICAgICAgICAgIHRoaXMubmV3RGF0YS51c2VyV2hvTW9kaWZpZWQgPSB0aGlzLnVzZXJXaG9Nb2RpZmllZCA7DQogICAgICAgICAgICB0aGlzLm5ld0RhdGEuZW1haWwgPSB0aGlzLmVtYWlsIDsNCg0KICAgICAgICAgICAgdGhpcy5uZXdEYXRhLmNoU3RhdHVzID0gdGhpcy5jaFN0YXR1cyA7DQogICAgICAgICAgICB0aGlzLmNzc1N0YXR1cyA9IHRoaXMuY2hTdGF0dXMgPT09IDEgfHwgdGhpcy5jaFN0YXR1cyA9PT0gdHJ1ZSA/ICdzdEFjdGl2ZScgOiAnc3REZWFjdGl2YXRlZCcgOw0KDQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInRoaXMubmV3RGF0YTogIiAsIHRoaXMubmV3RGF0YSApIDsNCiAgICAgICAgfQ0KDQogICAgICAgICwgY2hhbmdlU3RhdHVzKCkgew0KICAgICAgICAgICAgaWYgKCB0aGlzLm5ld0RhdGEuY2hTdGF0dXMgKSB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdEYXRhLmNoU3RhdHVzID0gZmFsc2UgOw0KICAgICAgICAgICAgICAgIHRoaXMuZGF0YVN0YXR1cyA9ICJEZWFjdGl2YXRlZCIgOw0KICAgICAgICAgICAgICAgIHRoaXMuY3NzU3RhdHVzID0gJ3N0RGVhY3RpdmF0ZWQnIDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdEYXRhLmNoU3RhdHVzID0gdHJ1ZSA7DQogICAgICAgICAgICAgICAgdGhpcy5kYXRhU3RhdHVzID0gIkFjdGl2ZSIgOw0KICAgICAgICAgICAgICAgIHRoaXMuY3NzU3RhdHVzID0gJ3N0QWN0aXZlJyA7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyAsIGFzeW5jIGNoYW5nZVBhc3N3b3JkKCkgew0KICAgICAgICAsIGFzeW5jIHNhdmVDaGFuZ2VzKCkgew0KICAgICAgICAgICAgY29uc3Qgcm9sID0gYXdhaXQgcmVxdWVzdHMuZ2V0KA0KICAgICAgICAgICAgICAgICdyb2xlcy9vbmUvJysgdGhpcy5uZXdEYXRhLnJvbA0KICAgICAgICAgICAgICAgICwgWyB0aGlzLm5ld0RhdGEucm9sIF0NCiAgICAgICAgICAgICkgOw0KDQogICAgICAgICAgICAvLyBjb25zdCByb2wgPSB0aGlzLmdldDFSb2xlKCkgOw0KICAgICAgICAgICAgY29uc3QgdGhlUm9sID0gew0KICAgICAgICAgICAgICAgICJpZCIgOiByb2wuZGF0YS5pZA0KICAgICAgICAgICAgICAgICwgIm5hbWUiIDogcm9sLmRhdGEubmFtZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInRoaXMubmV3RGF0YS5yb2w6ICIgLCB0aGlzLm5ld0RhdGEucm9sICkgOw0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coICJyb2wgb2JqZWN0OiAiICwgcm9sLmRhdGEgKSA7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInRoZVJvbCBvYmplY3Q6ICIgLCBbIHRoZVJvbCBdICkgOw0KDQogICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uIDsNCiAgICAgICAgICAgIGxldCBzdCA9IHRoaXMubmV3RGF0YS5jaFN0YXR1cyA9PT0gdHJ1ZSB8fCB0aGlzLm5ld0RhdGEuY2hTdGF0dXMgPT09IDEgPyAxIDogMiA7DQoNCiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gew0KICAgICAgICAgICAgICAgICJwYXNzd29yZCIgOiB0aGlzLm5ld0RhdGEucGFzc3dvcmQNCiAgICAgICAgICAgICAgICAsICJyb2xlcyIgOiBbIHRoZVJvbCBdDQogICAgICAgICAgICAgICAgLCAiZGF0YVN0YXR1cyIgOiBzdA0KICAgICAgICAgICAgfSA7DQoNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCAidXNlckRhdGE6ICIgLCB1c2VyRGF0YSApIDsNCg0KICAgICAgICAgICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdHMucHV0KA0KICAgICAgICAgICAgICAgICd1c2Vycy9jaGFuZ2UtdXNlci1kYXRhLycrIHRoaXMuZ2V0VXJsUXVlcnlJZCgpDQogICAgICAgICAgICAgICAgLCB1c2VyRGF0YQ0KICAgICAgICAgICAgKSA7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInVzZXJSZXNwb25zZTogIiAsIHVzZXJSZXNwb25zZSApIDsNCg0KICAgICAgICAgICAgbGV0IHVzZXJEZXRhaWxzIDsNCiAgICAgICAgICAgIGxldCB1c2VyRGV0YWlsc1Jlc3BvbnNlIDsNCiAgICAgICAgICAgIGlmICggdGhpcy5uZXdEYXRhLm5hbWUgIT09IG51bGwgJiYgdGhpcy5uZXdEYXRhLmxhc3RuYW1lICE9PSBudWxsICkgew0KICAgICAgICAgICAgICAgIHVzZXJEZXRhaWxzID0gew0KICAgICAgICAgICAgICAgICAgICAiaWRVc2VyIiA6IHRoaXMuZ2V0VXJsUXVlcnlJZCgpDQogICAgICAgICAgICAgICAgICAgICwgInVzZXJOYW1lIiA6IHRoaXMubmV3RGF0YS5uYW1lDQogICAgICAgICAgICAgICAgICAgICwgInVzZXJMYXN0bmFtZSIgOiB0aGlzLm5ld0RhdGEubGFzdG5hbWUNCiAgICAgICAgICAgICAgICAgICAgLCAiZGF0YVN0YXR1cyIgOiBzdA0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCAidGhpcy51LmRhdGEudXNlckRldGFpbHM6ICIgLCB0aGlzLnUuZGF0YS51c2VyRGV0YWlscyApIDsNCiAgICAgICAgICAgICAgICBpZiAoIHRoaXMudS5kYXRhLnVzZXJEZXRhaWxzICE9PSBudWxsICkgew0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggIlBVVCIgKSA7DQogICAgICAgICAgICAgICAgICAgIHVzZXJEZXRhaWxzUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0cy5wdXQoDQogICAgICAgICAgICAgICAgICAgICAgICAndXNlcnMvY2hhbmdlLWRldGFpbHMvJysgdGhpcy5nZXRVcmxRdWVyeUlkKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICwgdXNlckRldGFpbHMNCiAgICAgICAgICAgICAgICAgICAgKSA7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coICJQT1NUIiApIDsNCiAgICAgICAgICAgICAgICAgICAgdXNlckRldGFpbHNSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RzLnBvc3QoDQogICAgICAgICAgICAgICAgICAgICAgICAndXNlcnMvZGV0YWlscy9uZXcnDQogICAgICAgICAgICAgICAgICAgICAgICAsIHVzZXJEZXRhaWxzDQogICAgICAgICAgICAgICAgICAgICkgOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInVzZXJEZXRhaWxzOiAiICwgdXNlckRldGFpbHMgKSA7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coICJ1c2VyRGV0YWlsc1Jlc3BvbnNlOiAiICwgdXNlckRldGFpbHNSZXNwb25zZSApIDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgY29uc3QgdXNlckVtYWlscyA9IHsNCiAgICAgICAgICAgICAgICAiZW1haWwiIDogdGhpcy5uZXdEYXRhLmVtYWlsDQogICAgICAgICAgICAgICAgLCAiZGF0YVN0YXR1cyIgOiBzdA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgdXNlckVtYWlsc1Jlc3BvbnNlID0gYXdhaXQgcmVxdWVzdHMucHV0KA0KICAgICAgICAgICAgICAgICd1c2Vycy9jaGFuZ2UtZW1haWxzLycrIHRoaXMuZ2V0VXJsUXVlcnlJZCgpDQogICAgICAgICAgICAgICAgLCB1c2VyRW1haWxzDQogICAgICAgICAgICApIDsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCAidXNlckVtYWlsc1Jlc3BvbnNlOiAiICwgdXNlckVtYWlsc1Jlc3BvbnNlICkgOw0KDQoNCiAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAodXNlclJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwDQogICAgICAgICAgICAgICAgfHwgdXNlclJlc3BvbnNlLnN0YXR1cyA9PT0gMjAxKQ0KDQogICAgICAgICAgICAgICAgLy8gJiYoIHVzZXJEZXRhaWxzUmVzcG9uc2Uuc3RhdHVzID09PSAyMDANCiAgICAgICAgICAgICAgICAvLyB8fCB1c2VyRGV0YWlsc1Jlc3BvbnNlLnN0YXR1cyA9PT0gMjAxKQ0KDQogICAgICAgICAgICAgICAgJiYoIHVzZXJFbWFpbHNSZXNwb25zZS5zdGF0dXMgPT09IDIwMA0KICAgICAgICAgICAgICAgIHx8IHVzZXJFbWFpbHNSZXNwb25zZS5zdGF0dXMgPT09IDIwMSApICkgew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCIyMDAtMjAxIikgOw0KDQogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uID0gZXJyb3JDb2Rlcy5nZXQoIDIwMCApIDsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhub3RpZmljYXRpb24pDQogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdmb28nDQogICAgICAgICAgICAgICAgICAgICwgdGl0bGU6IGA8aDU+TWVzc2FnZSBDb2RlOiAke25vdGlmaWNhdGlvbi5jb2RlfTwvaDU+YA0KICAgICAgICAgICAgICAgICAgICAsIHRleHQ6IGA8aDY+JHtub3RpZmljYXRpb24ubWVzc2FnZX08L2g2PmANCiAgICAgICAgICAgICAgICAgICAgLCB0eXBlOiBgJHtub3RpZmljYXRpb24udHlwZX1gDQogICAgICAgICAgICAgICAgICAgICwgZHVyYXRpb246IDEwMDAwDQogICAgICAgICAgICAgICAgfSApIDsNCg0KICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsQ2hhbmdlcygpIDsNCg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBsZXQgc3QgOw0KICAgICAgICAgICAgICAgIC8vIGlmICggcmVzcG9uc2UuZGF0YSAhPT0gdHlwZW9mIG51bWJlciApIHN0ID0gNDAxIDsNCiAgICAgICAgICAgICAgICAvLyBlbHNlDQogICAgICAgICAgICAgICAgLy8gc3QgPSA0MDEgOw0KDQogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uID0gZXJyb3JDb2Rlcy5nZXQoIHN0ICkgOw0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5vdGlmaWNhdGlvbikNCiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgICAgICBncm91cDogJ2ZvbycNCiAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTogYDxoND5FcnJvciBDb2RlOiAke25vdGlmaWNhdGlvbi5jb2RlfTwvaDQ+YA0KICAgICAgICAgICAgICAgICAgICAsIHRleHQ6IGA8aDU+JHtub3RpZmljYXRpb24ubWVzc2FnZX08L2g1PmANCiAgICAgICAgICAgICAgICAgICAgLCB0eXBlOiBgJHtub3RpZmljYXRpb24udHlwZX1gDQogICAgICAgICAgICAgICAgICAgICwgZHVyYXRpb246IC0xDQogICAgICAgICAgICAgICAgfSApIDsNCiAgICAgICAgICAgICAgICAvLyBpZiAoIHN0ID09PSA0MDEgKSBhd2FpdCB0aGlzLiRyb3V0ZXIucHVzaCggJy9sb2dvdXQnICkgOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCg0KICAgICAgICAsIGNhbmNlbENoYW5nZXMoKSB7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiY2FuY2VsQ2hhbmdlcyIpIDsNCiAgICAgICAgICAgIHRoaXMuZWRpdCA9IGZhbHNlIDsNCiAgICAgICAgICAgIHRoaXMuZ2V0UmVjb3JkRGF0YSgpIDsNCiAgICAgICAgfQ0KDQogICAgICAgICwgYXN5bmMgZ2V0Um9sZXMoKSB7DQogICAgICAgICAgICBjb25zdCByb2xlcyA9IGF3YWl0IHJlcXVlc3RzLmdldCgNCiAgICAgICAgICAgICAgICAncm9sZXMvJw0KICAgICAgICAgICAgKSA7DQoNCiAgICAgICAgICAgIHRoaXMucm9sZXMgPSByb2xlcy5kYXRhIDsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCB0aGlzLnJvbGVzICkgOw0KICAgICAgICB9DQoNCiAgICAgICAgLCBhc3luYyBnZXQxUm9sZSgpIHsNCiAgICAgICAgICAgIGNvbnN0IHJvbCA9IGF3YWl0IHJlcXVlc3RzLmdldCgNCiAgICAgICAgICAgICAgICAncm9sZXMvb25lLycrIHRoaXMubmV3RGF0YS5yb2wNCiAgICAgICAgICAgICAgICAsIFsgdGhpcy5uZXdEYXRhLnJvbCBdDQogICAgICAgICAgICApIDsNCg0KICAgICAgICAgICAgY29uc29sZS5sb2coICJ0aGlzLm5ld0RhdGEucm9sOiAiICwgdGhpcy5uZXdEYXRhLnJvbCApIDsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCAiZ2V0MVJvbGU6ICIgLCByb2wuZGF0YSApIDsNCg0KICAgICAgICAgICAgcmV0dXJuIHJvbC5kYXRhIDsNCiAgICAgICAgfQ0KDQogICAgICAgICwgYXN5bmMgZ2V0RW1wcmVzYXMoKSB7DQogICAgICAgICAgICBjb25zdCBlbXByZXNhcyA9IGF3YWl0IHJlcXVlc3RzLmdldCgNCiAgICAgICAgICAgICAgICAnZW1wcmVzYXMvJw0KICAgICAgICAgICAgKSA7DQoNCiAgICAgICAgICAgIHRoaXMuZW1wcmVzYXMgPSBlbXByZXNhcy5kYXRhLmRhdGEgOw0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIHRoaXMuZW1wcmVzYXMgKSA7DQogICAgICAgIH0NCg0KICAgICAgICAsIGFzeW5jIGdldE1vZHVsZXMoKSB7DQogICAgICAgICAgICBjb25zdCBtb2R1bGVzID0gYXdhaXQgcmVxdWVzdHMuZ2V0KA0KICAgICAgICAgICAgICAgICdtb2R1bG9zLycNCiAgICAgICAgICAgICkgOw0KDQogICAgICAgICAgICB0aGlzLm1vZHVsb3MgPSBtb2R1bGVzLmRhdGEuZGF0YSA7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInRoaXMubW9kdWxvczogIiAsIHRoaXMubW9kdWxvcyApIDsNCiAgICAgICAgfQ0KDQogICAgICAgICwgYXN5bmMgYm9ycmFyRW1wcmVzYSggaWRFbXByZXNhICwgbm9tYnJlRW1wcmVzYSApIHsNCiAgICAgICAgICAgIC8vIFNlIHJlY2liZSBlbCBpZCBkZWwgcmVnaXN0cm8sIG5vIGRlIGxhIGVtcHJlc2ENCg0KICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvbiA7DQoNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSBjb25maXJtKCBgRGVzZWEgcmV0aXJhciB1c3VhcmlvICIkeyB0aGlzLm5ld0RhdGEudXNlcm5hbWUgfSIgZGUgbGEgZW1wcmVzYSAiJHsgbm9tYnJlRW1wcmVzYSB9ImAgLCAiQUVSUCIgKSA7DQogICAgICAgICAgICBpZiAoIHJlc3VsdCApIHsNCg0KICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZVVzZXJGcm9tQ29tcGFueSA9IGF3YWl0IHJlcXVlc3RzLmRlbGV0ZSgNCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJzL2RldGFpbHMvZC8nKyBpZEVtcHJlc2ENCiAgICAgICAgICAgICAgICApIDsNCg0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAiZGVsZXRlVXNlckZyb21Db21wYW55OiAiICwgZGVsZXRlVXNlckZyb21Db21wYW55ICkgOw0KDQogICAgICAgICAgICAgICAgaWYgKCBkZWxldGVVc2VyRnJvbUNvbXBhbnkuc3RhdHVzID09PSAyMDAgfHwgZGVsZXRlVXNlckZyb21Db21wYW55LnN0YXR1cyA9PT0gMjAxICkgew0KICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24gPSBlcnJvckNvZGVzLmdldCggZGVsZXRlVXNlckZyb21Db21wYW55LnN0YXR1cyApIDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiAnZm9vJw0KICAgICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTogYDxoNT5NZXNzYWdlIENvZGU6ICR7bm90aWZpY2F0aW9uLmNvZGV9PC9oNT5gDQogICAgICAgICAgICAgICAgICAgICAgICAsIHRleHQ6IGA8aDY+JHtub3RpZmljYXRpb24ubWVzc2FnZX08L2g2PmANCiAgICAgICAgICAgICAgICAgICAgICAgICwgdHlwZTogYCR7bm90aWZpY2F0aW9uLnR5cGV9YA0KICAgICAgICAgICAgICAgICAgICAgICAgLCBkdXJhdGlvbjogMTAwMDANCiAgICAgICAgICAgICAgICAgICAgfSApIDsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggImxFbXByZXNhcyIgKSA7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHVsLnF1ZXJ5U2VsZWN0b3IoICIjZW1wcmVzYS0iKyBpZEVtcHJlc2EgKSA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdWwucmVtb3ZlQ2hpbGQoIGl0ZW0gKSA7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAsIGFzeW5jIGFkZFVzZXJUb0NvbXBhbnkoKSB7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggdGhpcy5uZXdEYXRhLmVtcHJlc2FJZCApIDsNCiAgICAgICAgICAgIGxldCBub3RpZmljYXRpb24gOw0KDQogICAgICAgICAgICBjb25zdCBkYXRhID0gew0KICAgICAgICAgICAgICAgICJpZFVzZXIiIDogdGhpcy5nZXRVcmxRdWVyeUlkKCkNCiAgICAgICAgICAgICAgICAsICJlbXByZXNhSWQiIDogdGhpcy5uZXdEYXRhLmVtcHJlc2FJZA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBjb25zdCBhZGRVc2VyVG9Db21wYW55ID0gYXdhaXQgcmVxdWVzdHMucG9zdCgNCiAgICAgICAgICAgICAgICAndXNlcnMvZGV0YWlscy9hZGRVc2VyVG9Db21wYW55Jw0KICAgICAgICAgICAgICAgICwgZGF0YQ0KICAgICAgICAgICAgKSA7DQoNCiAgICAgICAgICAgIGlmICggYWRkVXNlclRvQ29tcGFueS5zdGF0dXMgPT09IDIwMCB8fCBhZGRVc2VyVG9Db21wYW55LnN0YXR1cyA9PT0gMjAxICkgew0KICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbiA9IGVycm9yQ29kZXMuZ2V0KCBhZGRVc2VyVG9Db21wYW55LnN0YXR1cyApIDsNCiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgICAgICBncm91cDogJ2ZvbycNCiAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTogYDxoNT5NZXNzYWdlIENvZGU6ICR7bm90aWZpY2F0aW9uLmNvZGV9PC9oNT5gDQogICAgICAgICAgICAgICAgICAgICwgdGV4dDogYDxoNj4ke25vdGlmaWNhdGlvbi5tZXNzYWdlfTwvaDY+YA0KICAgICAgICAgICAgICAgICAgICAsIHR5cGU6IGAke25vdGlmaWNhdGlvbi50eXBlfWANCiAgICAgICAgICAgICAgICAgICAgLCBkdXJhdGlvbjogNTAwMA0KICAgICAgICAgICAgICAgIH0gKSA7DQoNCiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbENoYW5nZXMoKSA7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCggKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInNldFRpbWVPdXQiICkgOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXQgPSB0cnVlIDsNCiAgICAgICAgICAgICAgICB9LCAxMDAwICkgOw0KDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbiA9IGVycm9yQ29kZXMuZ2V0KCAyMDIgKSA7DQogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdmb28nDQogICAgICAgICAgICAgICAgICAgICwgdGl0bGU6IGA8aDU+TWVzc2FnZSBDb2RlOiAke25vdGlmaWNhdGlvbi5jb2RlfTwvaDU+YA0KICAgICAgICAgICAgICAgICAgICAsIHRleHQ6IGA8aDY+JHtub3RpZmljYXRpb24ubWVzc2FnZX0uIEJ1dCBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9oNj5gDQogICAgICAgICAgICAgICAgICAgICwgdHlwZTogYHdhcm5gDQogICAgICAgICAgICAgICAgICAgICwgZHVyYXRpb246IDEwMDAwDQogICAgICAgICAgICAgICAgfSApIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCAiYWRkVXNlclRvQ29tcGFueTogIiAsIGFkZFVzZXJUb0NvbXBhbnkgKSA7DQoNCiAgICAgICAgfQ0KDQogICAgICAgICwgYXN5bmMgYm9ycmFyTW9kdWxvKCBpZE1vZHVsbyAsIG1vZHVsZU5hbWUgKSB7DQogICAgICAgICAgICAvLyBTZSByZWNpYmUgZWwgaWQgZGVsIHJlZ2lzdHJvLCBubyBkZSBsYSBlbXByZXNhDQoNCiAgICAgICAgICAgIGxldCBub3RpZmljYXRpb24gOw0KDQogICAgICAgICAgICBsZXQgcmVzdWx0ID0gY29uZmlybSggYERlc2VhIHJldGlyYXIgdXN1YXJpbyAiJHsgdGhpcy5uZXdEYXRhLnVzZXJuYW1lIH0iIGRlbCBhY2Nlc28gYWwgbcOzZHVsbyAiJHsgbW9kdWxlTmFtZSB9ImAgLCAiQUVSUCIgKSA7DQogICAgICAgICAgICBpZiAoIHJlc3VsdCApIHsNCg0KICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZVVzZXJGcm9tTW9kdWxlID0gYXdhaXQgcmVxdWVzdHMuZGVsZXRlKA0KICAgICAgICAgICAgICAgICAgICAndXNlcnMvZGV0YWlscy9kbS8nKyBpZE1vZHVsbw0KICAgICAgICAgICAgICAgICkgOw0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coICJkZWxldGVVc2VyRnJvbU1vZHVsZTogIiAsIGRlbGV0ZVVzZXJGcm9tTW9kdWxlICkgOw0KDQogICAgICAgICAgICAgICAgaWYgKCBkZWxldGVVc2VyRnJvbU1vZHVsZS5zdGF0dXMgPT09IDIwMCB8fCBkZWxldGVVc2VyRnJvbU1vZHVsZS5zdGF0dXMgPT09IDIwMSApIHsNCiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uID0gZXJyb3JDb2Rlcy5nZXQoIGRlbGV0ZVVzZXJGcm9tTW9kdWxlLnN0YXR1cyApIDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiAnZm9vJw0KICAgICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTogYDxoNT5NZXNzYWdlIENvZGU6ICR7bm90aWZpY2F0aW9uLmNvZGV9PC9oNT5gDQogICAgICAgICAgICAgICAgICAgICAgICAsIHRleHQ6IGA8aDY+JHtub3RpZmljYXRpb24ubWVzc2FnZX08L2g2PmANCiAgICAgICAgICAgICAgICAgICAgICAgICwgdHlwZTogYCR7bm90aWZpY2F0aW9uLnR5cGV9YA0KICAgICAgICAgICAgICAgICAgICAgICAgLCBkdXJhdGlvbjogMTAwMDANCiAgICAgICAgICAgICAgICAgICAgfSApIDsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggImxNb2R1bG9zIiApIDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdWwucXVlcnlTZWxlY3RvciggIiNtb2R1bG8tIisgaWRNb2R1bG8gKSA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdWwucmVtb3ZlQ2hpbGQoIGl0ZW0gKSA7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAsIGFzeW5jIGFkZFVzZXJUb01vZHVsbygpIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCB0aGlzLm5ld0RhdGEuZW1wcmVzYUlkICkgOw0KICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvbiA7DQoNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgImlkVXNlciIgOiB0aGlzLmdldFVybFF1ZXJ5SWQoKQ0KICAgICAgICAgICAgICAgICwgIm1vZHVsZUlkIiA6IHRoaXMubmV3RGF0YS5tb2R1bG9JZA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCAiZGF0YTogIiAsIGRhdGEgKSA7DQoNCiAgICAgICAgICAgIGNvbnN0IGFkZFVzZXJUb01vZHVsZSA9IGF3YWl0IHJlcXVlc3RzLnBvc3QoDQogICAgICAgICAgICAgICAgJ3VzZXJzL2RldGFpbHMvYWRkVXNlclRvTW9kdWxlJw0KICAgICAgICAgICAgICAgICwgZGF0YQ0KICAgICAgICAgICAgKSA7DQoNCiAgICAgICAgICAgIGlmICggYWRkVXNlclRvTW9kdWxlLnN0YXR1cyA9PT0gMjAwIHx8IGFkZFVzZXJUb01vZHVsZS5zdGF0dXMgPT09IDIwMSApIHsNCiAgICAgICAgICAgICAgICBub3RpZmljYXRpb24gPSBlcnJvckNvZGVzLmdldCggYWRkVXNlclRvTW9kdWxlLnN0YXR1cyApIDsNCiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgICAgICBncm91cDogJ2ZvbycNCiAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTogYDxoNT5NZXNzYWdlIENvZGU6ICR7bm90aWZpY2F0aW9uLmNvZGV9PC9oNT5gDQogICAgICAgICAgICAgICAgICAgICwgdGV4dDogYDxoNj4ke25vdGlmaWNhdGlvbi5tZXNzYWdlfTwvaDY+YA0KICAgICAgICAgICAgICAgICAgICAsIHR5cGU6IGAke25vdGlmaWNhdGlvbi50eXBlfWANCiAgICAgICAgICAgICAgICAgICAgLCBkdXJhdGlvbjogNTAwMA0KICAgICAgICAgICAgICAgIH0gKSA7DQoNCiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbENoYW5nZXMoKSA7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCggKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggInNldFRpbWVPdXQiICkgOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXQgPSB0cnVlIDsNCiAgICAgICAgICAgICAgICB9LCAxMDAwICkgOw0KDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbiA9IGVycm9yQ29kZXMuZ2V0KCAyMDIgKSA7DQogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdmb28nDQogICAgICAgICAgICAgICAgICAgICwgdGl0bGU6IGA8aDU+TWVzc2FnZSBDb2RlOiAke25vdGlmaWNhdGlvbi5jb2RlfTwvaDU+YA0KICAgICAgICAgICAgICAgICAgICAsIHRleHQ6IGA8aDY+JHtub3RpZmljYXRpb24ubWVzc2FnZX0uIEJ1dCBhbHJlYWR5IHJlZ2lzdGVyZWQuPC9oNj5gDQogICAgICAgICAgICAgICAgICAgICwgdHlwZTogYHdhcm5gDQogICAgICAgICAgICAgICAgICAgICwgZHVyYXRpb246IDEwMDAwDQogICAgICAgICAgICAgICAgfSApIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCAiYWRkVXNlclRvTW9kdWxlOiAiICwgYWRkVXNlclRvTW9kdWxlICkgOw0KDQogICAgICAgIH0NCg0KICAgICAgICAsIGdldFFSQ29kZSgpIHsNCiAgICAgICAgICAgIGNvbnN0IHNlY3JldEtleSA9IHRoaXMuc2VjcmV0S2V5NEdBIDsNCiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB0aGlzLmVtYWlsIDsNCiAgICAgICAgICAgIGNvbnN0IGlzc3VlciA9ICJBbWlzdGFkLUVSUCIgOw0KICAgICAgICAgICAgY29uc3QgdXJsID0gIm90cGF1dGg6Ly90b3RwLyINCiAgICAgICAgICAgICAgICArIGVuY29kZVVSSUNvbXBvbmVudCggaXNzdWVyICsgIjoiICsgYWNjb3VudCApDQogICAgICAgICAgICAgICAgKyAiP3NlY3JldD0iICsgc2VjcmV0S2V5DQogICAgICAgICAgICAgICAgKyAiJmlzc3Vlcj0iICsgaXNzdWVyDQogICAgICAgICAgICA7DQoNCi8qDQogICAgICAgIC8vIEVqZW1wbG8gZGUgY2FkZW5hIGdlbmVyYWRhIGNvcnJlY3RhbWVudGUgcG9yIGVsIEJhY2tFbmQNCiAgICAgICAgb3RwYXV0aDovL3RvdHAvQW1pc3RhZC1FUlAlM0FsZXhjYXN0aWxsby5hbWlzdGFkJTQwZ21haWwuY29tP3NlY3JldD1LR1FOSkdBWUk1U1ZBWkpET1hVWEVLSkRZVDNRT1pRNyZpc3N1ZXI9QW1pc3RhZC1FUlANCg0KKi8NCiAgICAgICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKSA7DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgICwgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5nZXRSZWNvcmREYXRhKCkgOw0KICAgICAgICB0aGlzLmdldFJvbGVzKCkgOw0KICAgICAgICAvLyB0aGlzLmdldDFSb2xlKCkgOw0KICAgICAgICB0aGlzLmdldEVtcHJlc2FzKCkgOw0KICAgICAgICB0aGlzLmdldE1vZHVsZXMoKSA7DQogICAgICAgIC8vIHRoaXMuY2hhbmdlU3RhdHVzKCkgOw0KICAgICAgICAvLyB0aGlzLmdldFFSQ29kZSgpIDsNCiAgICB9DQoNCiAgICAsIG1vdW50ZWQoKSB7DQogICAgICAgIGlmICggbG9jYWxTdG9yYWdlLmdldEl0ZW0oICJyb2xlcyIgKSAgPT09ICJST0xFX0lUIiApIHRoaXMuSVQgPSB0cnVlIDsNCiAgICB9DQoNCn0NCg=="},{"version":3,"sources":["Detalle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0UA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"Detalle.vue","sourceRoot":"src/views/administracion/users","sourcesContent":["<template>\r\n    <div>\r\n\r\n        <Navbar />\r\n        <NavbarSideBar />\r\n\r\n        <div class=\"content-wrapper\">\r\n            <!-- Content Header (Page header) -->\r\n            <div class=\"content-header\">\r\n                <div class=\"container-fluid\">\r\n                    <div class=\"row mb-2\">\r\n                        <div class=\"col-sm-6\">\r\n                            <h1 class=\"m-0\">\r\n                                {{ newData.name }} {{ newData.lastname }}\r\n                                <small v-if=\"! edit\">\r\n                                    |\r\n                                    <a href=\"javascript:;\" id=\"btnEditar\" @click=\"edit=true\">\r\n                                        <span class=\"right badge badge-secondary\">\r\n                                            Editar\r\n                                        </span>\r\n                                    </a>\r\n                                </small>\r\n                            </h1>\r\n                        </div><!-- /.col -->\r\n                        <div class=\"col-sm-6\">\r\n                            <ol class=\"breadcrumb float-sm-right\">\r\n                                <li class=\"breadcrumb-item\"><router-link to=\"/Dashboard\">Dashboard</router-link></li>\r\n                                <li class=\"breadcrumb-item\"><router-link to=\"/Usuarios\">Usuarios</router-link></li>\r\n                                <li class=\"breadcrumb-item active\">Detalle de registro # {{ getUrlQueryId() }}</li>\r\n                            </ol>\r\n                        </div><!-- /.col -->\r\n                    </div><!-- /.row -->\r\n                </div><!-- /.container-fluid -->\r\n            </div>\r\n            <!-- /.content-header -->\r\n\r\n            <!-- Main content -->\r\n            <form id=\"userForm\">\r\n                <div class=\"content\" id=\"readonly\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"card\">\r\n                            <div class=\"container\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12 table-responsive\">\r\n                                        <table class=\"table table-striped table-hover\">\r\n\r\n                                            <tbody>\r\n\r\n                                                <tr>\r\n                                                    <th style=\"width: 20%\" scope=\"row\">Username:</th>\r\n                                                    <td >\r\n                                                        {{ newData.username }}\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Password:</th>\r\n                                                    <td >\r\n                                                        <span v-if=\"edit\">\r\n                                                            <div class=\"row\">\r\n                                                                <div class=\"col-md-6\" >\r\n                                                                    <input\r\n                                                                        type=\"text\"\r\n                                                                        class=\"form-control\"\r\n                                                                        placeholder=\"New Password\"\r\n                                                                        v-model=\"newData.password\"\r\n                                                                    />\r\n                                                                </div>\r\n<!--                                                                <div class=\"col-md-6\" v-if=\"edit\">-->\r\n<!--                                                                    <button type=\"button\" class=\"btn btn-success\" @click=\"saveChanges\">-->\r\n<!--                                                                        <i class=\"fas fa-check\"></i>-->\r\n<!--                                                                    </button>-->\r\n<!--                                                                </div>-->\r\n                                                            </div>\r\n\r\n                                                        </span>\r\n                                                        <span v-else>\r\n                                                            <span v-if=\"!showPassword\">\r\n                                                                [ Encrypted ]\r\n                                                                <i class=\"fas fa-eye showPassword\" @click=\"showPassword = !showPassword\"></i>\r\n                                                            </span>\r\n\r\n                                                            <span v-else>\r\n                                                                {{ password }}\r\n                                                                <i class=\"fas fa-eye-slash showPassword\" @click=\"showPassword = !showPassword\"></i>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <h3 style=\"margin-top: 1em ;\">Details</h3>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Rol:</th>\r\n                                                    <td >\r\n                                                        <select\r\n                                                            v-if=\"edit\"\r\n                                                            name=\"\"\r\n                                                            id=\"\"\r\n                                                            class=\"form-control\"\r\n                                                            v-model=\"newData.rol\"\r\n                                                        >\r\n                                                            <option\r\n                                                                v-for = \"role in roles\"\r\n                                                                :value = \"role.name.split('_')[ 1 ]\"\r\n                                                            >{{ role.name.split('_')[ 1 ] }}</option>\r\n                                                        </select>\r\n                                                        <span v-else>{{ newData.rol }}</span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Status:</th>\r\n                                                    <td >\r\n                                                        <input\r\n                                                            v-if=\"edit\"\r\n                                                            id=\"st\"\r\n                                                            type=\"checkbox\"\r\n                                                            class=\"\"\r\n                                                            :checked=\"newData.chStatus\"\r\n                                                            @click=\"changeStatus()\"\r\n                                                        >\r\n                                                        <label v-if=\"edit\" for=\"st\" style=\"margin-left: 1em ;\" :class=\"cssStatus\">{{ dataStatus }}</label>\r\n                                                        <span v-else :class=\"cssStatus\">{{ newData.dataStatus }}</span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Name:</th>\r\n                                                    <td >\r\n                                                        <input\r\n                                                            v-if=\"edit\"\r\n                                                            id=\"name\"\r\n                                                            type=\"text\"\r\n                                                            class=\"form-control\"\r\n                                                            v-model=\"newData.name\"\r\n                                                        >\r\n                                                        <span v-else>{{ newData.name }}</span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Lastname:</th>\r\n                                                    <td >\r\n                                                        <input\r\n                                                            v-if=\"edit\"\r\n                                                            id=\"name\"\r\n                                                            type=\"text\"\r\n                                                            class=\"form-control\"\r\n                                                            v-model=\"newData.lastname\"\r\n                                                        >\r\n                                                        <span v-else>{{ newData.lastname }}</span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Email:</th>\r\n                                                    <td >\r\n                                                        <input\r\n                                                            v-if=\"edit\"\r\n                                                            id=\"email\"\r\n                                                            type=\"email\"\r\n                                                            class=\"form-control\"\r\n                                                            v-model=\"newData.email\"\r\n                                                        >\r\n                                                        <span v-else>{{ newData.email }}</span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Empresas:</th>\r\n                                                    <td >\r\n                                                        <div class=\"row\" v-if=\"edit\">\r\n                                                            <div class=\"col-md-5\">\r\n                                                                <select\r\n                                                                    name=\"\"\r\n                                                                    id=\"\"\r\n                                                                    class=\"form-control\"\r\n                                                                    v-model=\"newData.empresaId\"\r\n                                                                >\r\n                                                                    <option\r\n                                                                        v-for = \"empresa in empresas\"\r\n                                                                        :value = \"empresa[ 0 ]\"\r\n                                                                    >{{ empresa[ 1 ] }}</option>\r\n                                                                </select>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-1\">\r\n                                                                <button @click=\"addUserToCompany()\" type=\"button\" class=\"btn btn-success\">\r\n                                                                    <i class=\"fas fa-plus-circle\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-6\">\r\n                                                                <ul id=\"lEmpresas\">\r\n                                                                    <li v-for=\"e in newData.empresasList\" :id=\"'empresa-'+e.id\">\r\n                                                                        <i @click=\"borrarEmpresa( e.id , e.nombreEmpresa )\" class=\"fas fa-times\" style=\"color:red; margin-right: .8em; cursor: pointer;\"></i>\r\n                                                                            {{ e.nombreEmpresa }}\r\n                                                                    </li>\r\n                                                                </ul>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        <span v-else>\r\n                                                            <ul>\r\n                                                                <li v-for=\"e in newData.empresasList\">\r\n                                                                    {{ e.nombreEmpresa }}\r\n                                                                    <span v-if=\"edit\"> X </span>\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                        </span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th scope=\"row\">Módulos:</th>\r\n                                                    <td >\r\n                                                        <div class=\"row\" v-if=\"edit\">\r\n                                                            <div class=\"col-md-5\">\r\n                                                                <select\r\n                                                                    name=\"\"\r\n                                                                    id=\"\"\r\n                                                                    class=\"form-control\"\r\n                                                                    v-model=\"newData.moduloId\"\r\n                                                                >\r\n                                                                    <option\r\n                                                                        v-for = \"modulo in modulos\"\r\n                                                                        :value = \"modulo[ 0 ]\"\r\n                                                                    >{{ modulo[ 1 ] }}</option>\r\n                                                                </select>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-1\">\r\n                                                                <button @click=\"addUserToModulo()\" type=\"button\" class=\"btn btn-success\">\r\n                                                                    <i class=\"fas fa-plus-circle\"></i>\r\n                                                                </button>\r\n                                                            </div>\r\n                                                            <div class=\"col-md-6\">\r\n                                                                <ul id=\"lModulos\">\r\n                                                                    <li v-for=\"e in newData.modulosList\" :id=\"'modulo-'+e.id\">\r\n                                                                        <i @click=\"borrarModulo( e.id , e.moduleName )\" class=\"fas fa-times\" style=\"color:red; margin-right: .8em; cursor: pointer;\"></i>\r\n                                                                            {{ e.moduleName }}\r\n                                                                    </li>\r\n                                                                </ul>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        <span v-else>\r\n                                                            <ul>\r\n                                                                <li v-for=\"e in newData.modulosList\">\r\n                                                                    {{ e.moduleName }}\r\n                                                                    <span v-if=\"edit\"> X </span>\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                        </span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th>Secret Key:</th>\r\n                                                    <td>\r\n                                                        <span >\r\n                                                            <span v-if=\"!showSecretKey4GA\">\r\n                                                                [ Encrypted ]\r\n                                                                <i class=\"fas fa-eye showPassword\" @click=\"showSecretKey4GA = !showSecretKey4GA\"></i>\r\n                                                            </span>\r\n\r\n                                                            <span v-else>\r\n                                                                {{ secretKey4GA }}\r\n                                                                <i class=\"fas fa-eye-slash showPassword\" @click=\"showSecretKey4GA = !showSecretKey4GA\"></i>\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n                                                <tr>\r\n                                                    <th>QR Access Code Image:</th>\r\n                                                        <td>\r\n                                                            <VueQRCodeComponent :text=\"qrCode\" :size=\"200\"></VueQRCodeComponent>\r\n                                                        </td>\r\n                                                </tr>\r\n\r\n                                            </tbody>\r\n                                        </table>\r\n\r\n                                        <div class=\"right\" v-if=\"edit\">\r\n                                            <button type=\"button\" class=\"btn btn-success\" id=\"btnEditar\" @click=\"saveChanges\"> Guardar Detalles </button>\r\n                                            <button type=\"button\" class=\"btn btn-danger\" id=\"btnEditar\" @click=\"cancelChanges\"> Cancelar edición </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"content\" id=\"itZone\" v-if=\"IT\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"card\">\r\n                            <div class=\"container\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12\">\r\n                                        <div>\r\n                                            <h2>IT Zone</h2>\r\n                                            <table class=\"table table-striped table-hover\">\r\n                                                <tbody>\r\n\r\n                                                    <tr>\r\n                                                        <th>Date Last Modified</th>\r\n                                                        <td>{{ dateLastModified }}</td>\r\n                                                    </tr>\r\n\r\n                                                    <tr>\r\n                                                        <th>Last User Who Modified</th>\r\n                                                        <td>{{ userWhoModified }}</td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n\r\n                                            </table>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"@/components/navbar/Navbar\";\r\nimport NavbarSideBar from \"@/components/navbar/NavbarSidebar\";\r\nimport requests from \"@/utils/requests\";\r\nimport errorCodes from \"@/utils/errorCodes\";\r\nimport VueQRCodeComponent from 'vue-qrcode-component'\r\n\r\nexport default {\r\n    name: \"Details\"\r\n\r\n    , components: {\r\n        Navbar\r\n        , NavbarSideBar\r\n        , VueQRCodeComponent\r\n    }\r\n\r\n    , data() {\r\n        return {\r\n            edit : false\r\n            , IT : false\r\n            , id : null\r\n            , u : null\r\n\r\n            , empresas : null\r\n            , modulos : null\r\n            , roles : null\r\n            , oneRole : null\r\n            , showPassword : false\r\n            , showSecretKey4GA : false\r\n            , qrCode : ''\r\n\r\n            , username : null\r\n            , password : null\r\n            , rol : null\r\n            , name : null\r\n            , lastname : null\r\n            , empresaId : null\r\n            , secretKey4GA : null\r\n            , email : null\r\n            , dataStatus : null\r\n            , chStatus : false\r\n            , dateLastModified : null\r\n            , userWhoModified : null\r\n            , moduloId : null\r\n            , moduloName : null\r\n            , modulosList : null\r\n\r\n            , newData: {\r\n                username : null\r\n                , password : null\r\n                , rol : null\r\n                , name : null\r\n                , lastname : null\r\n                , empresaId : null\r\n                , empresa : null\r\n                , empresasList : null\r\n                , dataStatus : null\r\n                , chStatus : false\r\n                , dateLastModified : null\r\n                , userWhoModified : null\r\n                , email : null\r\n                , moduloId : null\r\n                , moduloName : null\r\n                , modulosList : null\r\n            }\r\n\r\n            , cssStatus : \"stActive\"\r\n\r\n        }\r\n    }\r\n\r\n    , methods: {\r\n        getUrlQueryId() {\r\n            return this.$route.params.id ;\r\n        }\r\n\r\n        , async getRecordData() {\r\n            // let notification ;\r\n\r\n            this.u = await requests.get(\r\n                'users/get-details/'+ this.getUrlQueryId()\r\n            ) ;\r\n            const u = this.u ;\r\n\r\n            console.log( \"u: \" , u.data ) ;\r\n\r\n            this.username = u.data.user.username ;\r\n            this.password = u.data.user.password ;\r\n            this.dataStatus = u.data.userStatus.stName ;\r\n            this.chStatus = u.data.user.dataStatus === 1 ;\r\n            this.rol = u.data.user.roles[ 0 ] ? u.data.user.roles[ 0 ].name.split( \"_\" )[ 1 ] : null ;\r\n            this.dateLastModified = u.data.user.dateLastModified ;\r\n            this.userWhoModified = u.data.userModifier.username ;\r\n            console.log(\"aqui\",this.userWhoModified)\r\n            this.secretKey4GA = u.data.user.secretKey4GA ;\r\n            this.email = u.data.userEmails[ 0 ].email ;\r\n            this.qrCode = this.getQRCode().toString() ;\r\n\r\n            this.name = u.data.userDetails ? u.data.userDetails.userName : null ;\r\n            this.lastname = u.data.userDetails ? u.data.userDetails.userLastname : null ;\r\n            // this.empresaId = u.data.userDetails ? u.data.userDetails.empresaId : null ;\r\n\r\n            this.empresaId = 1 ;\r\n            this.empresa = u.data.userEmpresa ? u.data.userEmpresa[ 1 ] : null ;\r\n            this.empresasList = u.data.userCompanies ? u.data.userCompanies : null ;\r\n\r\n            this.moduloId = 1 ;\r\n            this.modulo = u.data.userModules ? u.data.userModules[ 1 ] : null ;\r\n            this.modulosList = u.data.userModules ? u.data.userModules : null ;\r\n\r\n            this.newData.name = this.name ;\r\n            this.newData.lastname = this.lastname ;\r\n\r\n            this.newData.empresaId = this.empresaId ;\r\n            this.newData.empresa = this.empresa ;\r\n            this.newData.empresasList = this.empresasList ;\r\n\r\n            this.newData.moduloId = this.moduloId ;\r\n            this.newData.moduloName = this.moduloName ;\r\n            this.newData.modulosList = this.modulosList ;\r\n\r\n            this.newData.username = this.username ;\r\n            // this.newData.password = this.password ;\r\n            this.newData.dataStatus = this.dataStatus ;\r\n            this.newData.rol = this.rol ;\r\n            this.newData.dateLastModified = this.dateLastModified ;\r\n            this.newData.userWhoModified = this.userWhoModified ;\r\n            this.newData.email = this.email ;\r\n\r\n            this.newData.chStatus = this.chStatus ;\r\n            this.cssStatus = this.chStatus === 1 || this.chStatus === true ? 'stActive' : 'stDeactivated' ;\r\n\r\n            // console.log( \"this.newData: \" , this.newData ) ;\r\n        }\r\n\r\n        , changeStatus() {\r\n            if ( this.newData.chStatus ) {\r\n                this.newData.chStatus = false ;\r\n                this.dataStatus = \"Deactivated\" ;\r\n                this.cssStatus = 'stDeactivated' ;\r\n            } else {\r\n                this.newData.chStatus = true ;\r\n                this.dataStatus = \"Active\" ;\r\n                this.cssStatus = 'stActive' ;\r\n            }\r\n        }\r\n\r\n        // , async changePassword() {\r\n        , async saveChanges() {\r\n            const rol = await requests.get(\r\n                'roles/one/'+ this.newData.rol\r\n                , [ this.newData.rol ]\r\n            ) ;\r\n\r\n            // const rol = this.get1Role() ;\r\n            const theRol = {\r\n                \"id\" : rol.data.id\r\n                , \"name\" : rol.data.name\r\n            }\r\n\r\n            // console.log( \"this.newData.rol: \" , this.newData.rol ) ;\r\n            // console.log( \"rol object: \" , rol.data ) ;\r\n            // console.log( \"theRol object: \" , [ theRol ] ) ;\r\n\r\n            let notification ;\r\n            let st = this.newData.chStatus === true || this.newData.chStatus === 1 ? 1 : 2 ;\r\n\r\n            const userData = {\r\n                \"password\" : this.newData.password\r\n                , \"roles\" : [ theRol ]\r\n                , \"dataStatus\" : st\r\n            } ;\r\n\r\n            // console.log( \"userData: \" , userData ) ;\r\n\r\n            const userResponse = await requests.put(\r\n                'users/change-user-data/'+ this.getUrlQueryId()\r\n                , userData\r\n            ) ;\r\n            // console.log( \"userResponse: \" , userResponse ) ;\r\n\r\n            let userDetails ;\r\n            let userDetailsResponse ;\r\n            if ( this.newData.name !== null && this.newData.lastname !== null ) {\r\n                userDetails = {\r\n                    \"idUser\" : this.getUrlQueryId()\r\n                    , \"userName\" : this.newData.name\r\n                    , \"userLastname\" : this.newData.lastname\r\n                    , \"dataStatus\" : st\r\n                }\r\n\r\n                // console.log( \"this.u.data.userDetails: \" , this.u.data.userDetails ) ;\r\n                if ( this.u.data.userDetails !== null ) {\r\n                    // console.log( \"PUT\" ) ;\r\n                    userDetailsResponse = await requests.put(\r\n                        'users/change-details/'+ this.getUrlQueryId()\r\n                        , userDetails\r\n                    ) ;\r\n                } else {\r\n                    // console.log( \"POST\" ) ;\r\n                    userDetailsResponse = await requests.post(\r\n                        'users/details/new'\r\n                        , userDetails\r\n                    ) ;\r\n                }\r\n                // console.log( \"userDetails: \" , userDetails ) ;\r\n                // console.log( \"userDetailsResponse: \" , userDetailsResponse ) ;\r\n            }\r\n\r\n            const userEmails = {\r\n                \"email\" : this.newData.email\r\n                , \"dataStatus\" : st\r\n            }\r\n            const userEmailsResponse = await requests.put(\r\n                'users/change-emails/'+ this.getUrlQueryId()\r\n                , userEmails\r\n            ) ;\r\n            // console.log( \"userEmailsResponse: \" , userEmailsResponse ) ;\r\n\r\n\r\n            if (\r\n                (userResponse.status === 200\r\n                || userResponse.status === 201)\r\n\r\n                // &&( userDetailsResponse.status === 200\r\n                // || userDetailsResponse.status === 201)\r\n\r\n                &&( userEmailsResponse.status === 200\r\n                || userEmailsResponse.status === 201 ) ) {\r\n                // console.log(\"200-201\") ;\r\n\r\n                notification = errorCodes.get( 200 ) ;\r\n                // console.log(notification)\r\n                this.$notify({\r\n                    group: 'foo'\r\n                    , title: `<h5>Message Code: ${notification.code}</h5>`\r\n                    , text: `<h6>${notification.message}</h6>`\r\n                    , type: `${notification.type}`\r\n                    , duration: 10000\r\n                } ) ;\r\n\r\n                this.cancelChanges() ;\r\n\r\n            } else {\r\n                let st ;\r\n                // if ( response.data !== typeof number ) st = 401 ;\r\n                // else\r\n                // st = 401 ;\r\n\r\n                notification = errorCodes.get( st ) ;\r\n                // console.log(notification)\r\n                this.$notify({\r\n                    group: 'foo'\r\n                    , title: `<h4>Error Code: ${notification.code}</h4>`\r\n                    , text: `<h5>${notification.message}</h5>`\r\n                    , type: `${notification.type}`\r\n                    , duration: -1\r\n                } ) ;\r\n                // if ( st === 401 ) await this.$router.push( '/logout' ) ;\r\n            }\r\n\r\n        }\r\n\r\n        , cancelChanges() {\r\n            // console.log(\"cancelChanges\") ;\r\n            this.edit = false ;\r\n            this.getRecordData() ;\r\n        }\r\n\r\n        , async getRoles() {\r\n            const roles = await requests.get(\r\n                'roles/'\r\n            ) ;\r\n\r\n            this.roles = roles.data ;\r\n            // console.log( this.roles ) ;\r\n        }\r\n\r\n        , async get1Role() {\r\n            const rol = await requests.get(\r\n                'roles/one/'+ this.newData.rol\r\n                , [ this.newData.rol ]\r\n            ) ;\r\n\r\n            console.log( \"this.newData.rol: \" , this.newData.rol ) ;\r\n            console.log( \"get1Role: \" , rol.data ) ;\r\n\r\n            return rol.data ;\r\n        }\r\n\r\n        , async getEmpresas() {\r\n            const empresas = await requests.get(\r\n                'empresas/'\r\n            ) ;\r\n\r\n            this.empresas = empresas.data.data ;\r\n            // console.log( this.empresas ) ;\r\n        }\r\n\r\n        , async getModules() {\r\n            const modules = await requests.get(\r\n                'modulos/'\r\n            ) ;\r\n\r\n            this.modulos = modules.data.data ;\r\n            // console.log( \"this.modulos: \" , this.modulos ) ;\r\n        }\r\n\r\n        , async borrarEmpresa( idEmpresa , nombreEmpresa ) {\r\n            // Se recibe el id del registro, no de la empresa\r\n\r\n            let notification ;\r\n\r\n            let result = confirm( `Desea retirar usuario \"${ this.newData.username }\" de la empresa \"${ nombreEmpresa }\"` , \"AERP\" ) ;\r\n            if ( result ) {\r\n\r\n                const deleteUserFromCompany = await requests.delete(\r\n                    'users/details/d/'+ idEmpresa\r\n                ) ;\r\n\r\n                console.log( \"deleteUserFromCompany: \" , deleteUserFromCompany ) ;\r\n\r\n                if ( deleteUserFromCompany.status === 200 || deleteUserFromCompany.status === 201 ) {\r\n                    notification = errorCodes.get( deleteUserFromCompany.status ) ;\r\n                    this.$notify({\r\n                        group: 'foo'\r\n                        , title: `<h5>Message Code: ${notification.code}</h5>`\r\n                        , text: `<h6>${notification.message}</h6>`\r\n                        , type: `${notification.type}`\r\n                        , duration: 10000\r\n                    } ) ;\r\n\r\n                    let ul = document.getElementById( \"lEmpresas\" ) ;\r\n                        let item = ul.querySelector( \"#empresa-\"+ idEmpresa ) ;\r\n                            ul.removeChild( item ) ;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        , async addUserToCompany() {\r\n            // console.log( this.newData.empresaId ) ;\r\n            let notification ;\r\n\r\n            const data = {\r\n                \"idUser\" : this.getUrlQueryId()\r\n                , \"empresaId\" : this.newData.empresaId\r\n            }\r\n\r\n            const addUserToCompany = await requests.post(\r\n                'users/details/addUserToCompany'\r\n                , data\r\n            ) ;\r\n\r\n            if ( addUserToCompany.status === 200 || addUserToCompany.status === 201 ) {\r\n                notification = errorCodes.get( addUserToCompany.status ) ;\r\n                this.$notify({\r\n                    group: 'foo'\r\n                    , title: `<h5>Message Code: ${notification.code}</h5>`\r\n                    , text: `<h6>${notification.message}</h6>`\r\n                    , type: `${notification.type}`\r\n                    , duration: 5000\r\n                } ) ;\r\n\r\n                this.cancelChanges() ;\r\n                setTimeout( () => {\r\n                    // console.log( \"setTimeOut\" ) ;\r\n                    this.edit = true ;\r\n                }, 1000 ) ;\r\n\r\n            } else {\r\n                notification = errorCodes.get( 202 ) ;\r\n                this.$notify({\r\n                    group: 'foo'\r\n                    , title: `<h5>Message Code: ${notification.code}</h5>`\r\n                    , text: `<h6>${notification.message}. But already registered.</h6>`\r\n                    , type: `warn`\r\n                    , duration: 10000\r\n                } ) ;\r\n            }\r\n            // console.log( \"addUserToCompany: \" , addUserToCompany ) ;\r\n\r\n        }\r\n\r\n        , async borrarModulo( idModulo , moduleName ) {\r\n            // Se recibe el id del registro, no de la empresa\r\n\r\n            let notification ;\r\n\r\n            let result = confirm( `Desea retirar usuario \"${ this.newData.username }\" del acceso al módulo \"${ moduleName }\"` , \"AERP\" ) ;\r\n            if ( result ) {\r\n\r\n                const deleteUserFromModule = await requests.delete(\r\n                    'users/details/dm/'+ idModulo\r\n                ) ;\r\n\r\n                console.log( \"deleteUserFromModule: \" , deleteUserFromModule ) ;\r\n\r\n                if ( deleteUserFromModule.status === 200 || deleteUserFromModule.status === 201 ) {\r\n                    notification = errorCodes.get( deleteUserFromModule.status ) ;\r\n                    this.$notify({\r\n                        group: 'foo'\r\n                        , title: `<h5>Message Code: ${notification.code}</h5>`\r\n                        , text: `<h6>${notification.message}</h6>`\r\n                        , type: `${notification.type}`\r\n                        , duration: 10000\r\n                    } ) ;\r\n\r\n                    let ul = document.getElementById( \"lModulos\" ) ;\r\n                        let item = ul.querySelector( \"#modulo-\"+ idModulo ) ;\r\n                            ul.removeChild( item ) ;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        , async addUserToModulo() {\r\n            // console.log( this.newData.empresaId ) ;\r\n            let notification ;\r\n\r\n            const data = {\r\n                \"idUser\" : this.getUrlQueryId()\r\n                , \"moduleId\" : this.newData.moduloId\r\n            }\r\n\r\n            //console.log( \"data: \" , data ) ;\r\n\r\n            const addUserToModule = await requests.post(\r\n                'users/details/addUserToModule'\r\n                , data\r\n            ) ;\r\n\r\n            if ( addUserToModule.status === 200 || addUserToModule.status === 201 ) {\r\n                notification = errorCodes.get( addUserToModule.status ) ;\r\n                this.$notify({\r\n                    group: 'foo'\r\n                    , title: `<h5>Message Code: ${notification.code}</h5>`\r\n                    , text: `<h6>${notification.message}</h6>`\r\n                    , type: `${notification.type}`\r\n                    , duration: 5000\r\n                } ) ;\r\n\r\n                this.cancelChanges() ;\r\n                setTimeout( () => {\r\n                    // console.log( \"setTimeOut\" ) ;\r\n                    this.edit = true ;\r\n                }, 1000 ) ;\r\n\r\n            } else {\r\n                notification = errorCodes.get( 202 ) ;\r\n                this.$notify({\r\n                    group: 'foo'\r\n                    , title: `<h5>Message Code: ${notification.code}</h5>`\r\n                    , text: `<h6>${notification.message}. But already registered.</h6>`\r\n                    , type: `warn`\r\n                    , duration: 10000\r\n                } ) ;\r\n            }\r\n            console.log( \"addUserToModule: \" , addUserToModule ) ;\r\n\r\n        }\r\n\r\n        , getQRCode() {\r\n            const secretKey = this.secretKey4GA ;\r\n            const account = this.email ;\r\n            const issuer = \"Amistad-ERP\" ;\r\n            const url = \"otpauth://totp/\"\r\n                + encodeURIComponent( issuer + \":\" + account )\r\n                + \"?secret=\" + secretKey\r\n                + \"&issuer=\" + issuer\r\n            ;\r\n\r\n/*\r\n        // Ejemplo de cadena generada correctamente por el BackEnd\r\n        otpauth://totp/Amistad-ERP%3Alexcastillo.amistad%40gmail.com?secret=KGQNJGAYI5SVAZJDOXUXEKJDYT3QOZQ7&issuer=Amistad-ERP\r\n\r\n*/\r\n            return url.toString() ;\r\n        }\r\n\r\n    }\r\n\r\n    , created() {\r\n        this.getRecordData() ;\r\n        this.getRoles() ;\r\n        // this.get1Role() ;\r\n        this.getEmpresas() ;\r\n        this.getModules() ;\r\n        // this.changeStatus() ;\r\n        // this.getQRCode() ;\r\n    }\r\n\r\n    , mounted() {\r\n        if ( localStorage.getItem( \"roles\" )  === \"ROLE_IT\" ) this.IT = true ;\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .red {\r\n        background-color: red !important ;\r\n    }\r\n\r\n    a#btnEditar:link,\r\n    a#btnEditar:hover,\r\n    a#btnEditar:visited {\r\n        font-weight: normal ;\r\n        color: lightblue ;\r\n        padding: .5em ;\r\n    }\r\n\r\n    #itZone {\r\n        margin-top: 2.5em ;\r\n    }\r\n\r\n    .right {\r\n        text-align: right ;\r\n    }\r\n\r\n    .btn-success {\r\n        margin-right: 2em ;\r\n    }\r\n\r\n    .showPassword {\r\n        color: grey ;\r\n        margin-left: 1em ;\r\n    }\r\n\r\n</style>"]}]}