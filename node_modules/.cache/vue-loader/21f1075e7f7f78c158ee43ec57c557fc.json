{"remainingRequest":"C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\src\\views\\registroDocs\\RegistroDocs.vue?vue&type=style&index=0&id=6b37af36&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\src\\views\\registroDocs\\RegistroDocs.vue","mtime":1649129122618},{"path":"C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636401895556},{"path":"C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1636401901227},{"path":"C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\node_modules\\postcss-loader\\src\\index.js","mtime":1636401897499},{"path":"C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636401893889},{"path":"C:\\Users\\use\\Documents\\Trabajo de Mistah Programah\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":1636401899309}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCiNidG5OdWV2b1JlZ2lzdHJvIHsNCiAgQTogaG92ZXI7DQogIGNvbG9yOiAjZmZmZmZmOw0KICBmb250LWZhbWlseTogIlNvdXJjZSBTYW5zIFBybyI7DQogIGZvbnQtc2l6ZTogMTcuMjhweDsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KfQ0KI2J0bkZpbmFsaXphclJlZ2lzdHJvew0KICBBOiBob3ZlcjsNCiAgY29sb3I6ICNmZmZmZmY7DQogIGZvbnQtZmFtaWx5OiAiU291cmNlIFNhbnMgUHJvIjsNCiAgZm9udC1zaXplOiAxNy4yOHB4Ow0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQo="},{"version":3,"sources":["RegistroDocs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegistroDocs.vue","sourceRoot":"src/views/registroDocs","sourcesContent":["<template>\r\n  <div v-if=\"mostrar\" style=\"border-image: initial; border: 1px solid black;\" class=\"col-sm-4 offset-3\" >\r\n      <br>\r\n      <center>    <h3  class=\"m-0\">| Registro Pendiente | </h3></center>\r\n      <br>\r\n\r\n      <center><h5  >{{continuar}}</h5></center>\r\n      <center><h5 >{{end}}</h5></center>\r\n      <center>\r\n\r\n      </center>\r\n      <center>\r\n        <h4>\r\n\r\n      <small class=\"col-sm-2\"><p></p>\r\n        <span class=\"btn btn-info\">\r\n                      <a  :href=\"userLink\" id=\"btnNuevoRegistro\"  target=\"_blank\"  >Continuar</a>\r\n                  </span>\r\n      </small>\r\n      <small class=\"col-sm-2 offset-1\">\r\n        <span class=\"btn btn-success\">\r\n                      <a href=\"#\" id=\"btnFinalizarRegistro\" @click=\"saveChanges\" class=\"col-sm-2 \"  >Finalizar</a>\r\n                  </span>\r\n\r\n      </small></h4>\r\n      </center>\r\n      <br>\r\n\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport requests from \"@/utils/requests\";\r\nimport errorCodes from \"@/utils/errorCodes\";\r\nexport default {\r\n  name: \"registroDocs\"\r\n  ,data(){\r\n\r\n    return{\r\n\r\n      dataStatus : null,\r\n          userLink : null,\r\n          createdBy : null,\r\n          dateLastModified:null,\r\n          chStatus:null,\r\n          mostrar: true,\r\n          continuar: 'Para continuar con el registro porfavor de click en el botón continuar',\r\n          end:'Para guardar el registro pulse el botón finalizar',\r\n      newData: {\r\n        userLink : null\r\n        , dataStatus : null\r\n      }\r\n    }\r\n  }\r\n  ,beforeMount() {\r\n    this.getRecordData()\r\n  }\r\n  , methods: {\r\n    getUrlQueryId() {\r\n      return this.$route.params.id ;\r\n    }\r\n\r\n    , async getRecordData() {\r\n      // let notification ;\r\n\r\n      const headers = {\r\n        headers: {\r\n          'Authorization': `Bearer ${ localStorage.getItem( 'accessToken' ) }`,\r\n          'WWW-Authenticate': `Basic fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8/fm483fj98f3lfir793dfu98itoqkp5t8`,\r\n          'Accept': 'application/json',\r\n          'Content-type': 'application/json'\r\n        }\r\n      } ;\r\n\r\n      let i= localStorage.getItem( 'userId' )\r\n      const response = await requests.get(\r\n          'objetivos/get/'+i\r\n          , headers,\r\n      //console.log(localStorage.getItem( 'userId' ))\r\n      ) ;\r\n\r\n\r\n\r\n      this.userLink = response.data[3] ;\r\n      this.userId = response.data[ 4 ] ;\r\n      this.dataStatus= response.data[7];\r\n      this.chStatus = response.data [7] === 1 ;\r\n\r\n      this.newData.userLink=this.userLink;\r\n      this.newData.dataStatus=this.dataStatus;\r\n      let a= this.userLink\r\n      //console.log(this.dataStatus)\r\n      //console.log(a)\r\n\r\n      if (this.dataStatus===1 || a===\"\"){\r\n        this.mostrar=false;\r\n      }\r\n      else {\r\n        this.mostrar=true;\r\n      }\r\n      //console.log(this.mostrar)\r\n      return response.data ;\r\n    }\r\n\r\n\r\n    , async saveChanges() {\r\n\r\n        this.newData.dataStatus=1\r\n\r\n      let notification ;\r\n      const headers = {\r\n          headers: {\r\n            'Authorization': `Bearer ${ localStorage.getItem( 'accessToken' ) }`,\r\n            'WWW-Authenticate': `Basic fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8.fm483fj98f3lfir793dfu98itoqkp5t8/fm483fj98f3lfir793dfu98itoqkp5t8`,\r\n            'Accept': 'application/json',\r\n            'Content-type': 'application/json',\r\n          }\r\n        }\r\n        let st\r\n        let i= localStorage.getItem( 'userId' )\r\n        const data = {\r\n\r\n          \"id\" : i,\r\n          \"idUser\": i\r\n          , \"dataStatus\": this.newData.dataStatus\r\n          , \"userLink\": this.userLink\r\n        }\r\n       // console.log(data);\r\n          const response = await requests.put(\r\n              'objetivos/update/'+this.userId\r\n              , data\r\n              , headers\r\n          ) ;\r\n          //console.log( \"response: \" , response ) ;\r\n          if ( response.status === 200 || response.status === 201) {\r\n            await this.getRecordData();\r\n\r\n            notification = errorCodes.get(response.status);\r\n            // console.log(notification)\r\n            this.$notify({\r\n              group: 'foo'\r\n              , title: `<h5>Message Code: ${notification.code}</h5>`\r\n              , text: `<h6>${notification.message}</h6>`\r\n              , type: `${notification.type}`\r\n              , duration: 10000\r\n            });\r\n            if (st === 401) await this.$router.push('/logout');\r\n\r\n          }}\r\n\r\n    , async getObjetivos() {\r\n        const objetivos = await requests.get(\r\n            'objetivos/all'\r\n        ) ;\r\n\r\n        this.objetivos = objetivos.data ;\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n  , mounted() {\r\n    if ( localStorage.getItem( \"roles\" )  === \"ROLE_IT\" ) this.IT = true ;\r\n  }\r\n\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n#btnNuevoRegistro {\r\n  A: hover;\r\n  color: #ffffff;\r\n  font-family: \"Source Sans Pro\";\r\n  font-size: 17.28px;\r\n  text-decoration: none;\r\n}\r\n#btnFinalizarRegistro{\r\n  A: hover;\r\n  color: #ffffff;\r\n  font-family: \"Source Sans Pro\";\r\n  font-size: 17.28px;\r\n  text-decoration: none;\r\n}\r\n</style>"]}]}